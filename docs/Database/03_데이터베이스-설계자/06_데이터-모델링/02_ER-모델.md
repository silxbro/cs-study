# ER 모델
<br/>

ER(Entity Relationship) 모델은 데이터 모델링 과정 중 개념적 모델링에 사용하는 모델로, 1976년 피터 첸(Peter Chen)이 제안하였다.
ER 모델은 세상의 사물을 개체(entity)와 개체 간의 관계(relationship)로 표현한다.
개체는 독립적인 의미를 지니고 있는 유무형의 사람 또는 사물을 말하며, 개체의 특성을 나타내는 속성(attribute)으로 식별한다. 또한 개체끼리는 서로 관계를 가진다.
이와 같이 개체, 속성, 관계를 규명하는 것이 ER 모델의 기본이다.
- 결혼을 예로 들어 ER 모델을 설명해보자. 남자와 여자는 각각 사람 개체이며, 결혼이라는 관계를 맺고 있다. 결혼 관계에서 남자는 남편이라는 역할을 여자는 부인이라는 역할을 맡는다.

  #### [ER 모델의 기본 개념]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/a3f5a54a-55b2-4869-b91d-a1487551e836" width="300" height="250"/><br/>

ER 모델은 개체와 개체 간의 관계를 ER 다이어그램이라는 표준화된 그림으로 표현한다. ER 다이어그램은 ER 모델에 대해 큰 지식이 없는 사람도 내용을 쉽게 알아볼 수 있다.
- 아래 그림은 직원 개체와 프로젝트 개체 간의 관계를 ER 다이어그램으로 나타낸 것이다.
  직원 개체는 프로젝트 개체와 1:N의 작업 관계를 맺고 있으며, 각 개체마다 고유한 특성을 나타내는 속성이 있다.

  #### [ER 다이어그램]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/3323a9f8-afbe-402e-a446-3f6adbc6807d" width="550" height="150"/><br/>

ER 모델은 개념적 모델링 단계에서 사용하기 때문에 특정 데이터 모델이나 DBMS와 무관하게 설계할 수 있다.
이 절에서는 개체, 관계, 속성별로 ER 다이어그램을 작성하는 방법을 알아보고 그 과정을 통해 ER 모델을 학습한다.
<br/>
<br/>
## 1. 개체와 개체 타입
개체(entity)는 사람, 사물, 장소, 개념, 사건과 같이 유무형의 정보를 가지고 있는 독립적인 실체를 말한다.
개체는 비슷한 속성을 가진 개체 타입(entity type)을 구성하며, 개체 집합(entity set)으로 묶인다.
개체 집합은 공통된 속성을 가진 개체들의 모임을 의미하며, 개체 타입은 개체 집합의 이러한 동일한 특징을 나타내는 용어이다.
꼭 같지는 않지만 프로그래밍 언어의 데이터 타입으로 사용하면 된다.
- 개체, 개체 타입, 개체 집합은 서로 다른 용어이지만 혼동의 소지가 없으면 '개체'라고 줄여서 부르기도 한다.

#### [개체, 개체 타입, 개체 집합]
<img src="https://github.com/silxbro/cs-study/assets/142463332/56fe06bb-266e-4949-8cc0-53c2f7fc4ddc" width="430" height="250"/><br/>

- 예를 들어 위 그림에서 '축구아는 여자', '축구의 이해', '축구의 역사'는 모두 마당서점에서 판매하고 있는 도서들이다.
  각각의 도서는 독립된 개체로 존재하며, 동일한 속성을 가진 개체 집합으로 묶인다. 또한 모든 개체는 '도서'라는 동일한 특징을 가지고 있다.

개체는 요구사항 수집 및 분석 단계에서 만들어진 요구사항 명세서를 통해 도출된다. 일반적으로 개체는 수집된 요구사항 중 명사인 경우가 많다.
이렇게 도출된 개체들은 개체 집합으로 분류하고 공통된 속성을 추출하여 의미를 가장 잘 표현할 수 있는 개체 타입을 찾게 된다.

개체는 업무의 가장 핵심적인 요소로, 반드시 데이터베이스화 되어야 한다.
만약 데이터베이스 개발 초기에 개체 도출과 개체 타입의 구분이 잘못되면 최종적으로 사용자의 요구와 동떨어진 데이터베이스가 만들어진다.

개체는 다음과 같은 특징을 가진다.
- 유일한 식별자에 의해 식별이 가능하다.
- 꾸준한 관리를 필요로 하는 정보이다.
- 두 개 이상 영속적으로 존재한다.
- 업무 프로세스에 이용된다.
- 반드시 자신의 특징을 나타내는 속성을 포함한다.
- 다른 개체와 최소 한 개 이상의 관계를 맺고 있다.

### 개체 타입의 ER 다이어그램 표현
ER 다이어그램 상에서 개체 타입은 직사각형으로 나타낸다. 개체 타입은 보통 '개체'라고 부르는 강한 개체(strong entity) 타입과 약한 개체(weak entity) 타입으로 구분할 수 있다.
강한 개체 타입은 직사각형으로, 약한 개체 타입은 이중 직사각형으로 나타낸다. 개체 타입의 이름은 기호 중앙에 표기하며 일반적으로 단수형 명사를 사용한다.

#### [개체 타입의 ER 다이어그램 표현]
|기호|의미|
|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/f5f5faa8-1a88-4c0d-af04-020a23da7bc0" width="80" height="45"/>|강한 개체 타입<br/>(보통 개체 타입이라고 하면 강한 개체 타입을 말한다)|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/a671e070-bb72-42da-b319-38422e5dcb32" width="80" height="45"/>|약한 개체 타입|

### 개체 타입의 유형
개체 타입은 강한(일반) 개체 타입과 약한 개체 타입으로 구분할 수 있다. 강한 개체(strong entity) 타입은 다른 개체의 도움 없이 독자적으로 존재할 수 있다.
반면 약한 개체(weak entity) 타입은 독자적으로는 존재할 수 없고 반드시 상위 개체 타입을 가진다.
- 예를 들어 회사 데이터베이스에서 직원의 부양가족은 직원이 존재해야 존재할 수 있다. 따라서 직원은 강한 개체 타입이 되고, 부양가족은 약한 개체 타입이 된다.
  강한 개체와 약한 개체에 대한 자세한 내용은 속성과 관계 타입을 설명한 후 식별자와 함께 알아보도록 한다.
  <br/>

## 2. 속성
속성(attribute)은 개체가 가진 성질을 말한다. 예를 들어 '축구의 역사'의 경우 도서이름은 '축구의 역사', 출판사는 '굿스포츠', 가격은 '8,000원'이다.
이와 같이 개별 개체가 가진 속성을 기본으로 개체 타입의 속성을 정의할 수 있다.

#### [개체 타입과 속성]
|개체 타입|속성|
|:---|:---|
|도서|도서이름, 출판사, 도서단가|

### 속성의 ER 다이어그램 표현
속성은 기본적으로 타원으로 표현하며 개체 타입을 나타내는 직사각형과 실선으로 연결된다. 속성의 이름은 타원의 중앙에 표기한다.
속성이 개체를 유일하게 식별할 수 있는 키일 경우 속성 이름에 밑줄을 긋는다. 도서 개체 타입과 속성을 ER 다이어그램으로 나타내면 다음과 같다.
속성은 키 속성과 일반 속성으로 표현된다.

#### [도서 개체 타입]
<img src="https://github.com/silxbro/cs-study/assets/142463332/5878f971-1ef5-4351-a299-e36d5bd6f9e6" width="300" height="150"/><br/>

### 속성의 유형
속성은 값의 형태에 따라 다음과 같이 여러 유형으로 구분할 수 있다.

#### 🔳 단순 속성과 복합 속성
속성은 더 작은 단위로 분해할 수 있는지에 따라 단순 속성과 복합 속성으로 구분할 수 있다.
단순 속성(simple attribute)은 더 이상 분해가 불가능한 속성이고, 복합 속성(composite attribute)은 독립적인 의미를 가진 속성으로 분해할 수 있는 속성이다.
- 아래 그림에서 주소의 경우 시, 동 단위로 분해할 수 있는 복합 속성이다. 분해된 시, 동의 경우 더 이상 작게 분해될 수 없는 단순 속성이다. 학생번호 역시 단순 속성이다.
  참고로 학생번호의 속성 이름에 밑줄이 표시된 것을 볼 수 있다. 이렇게 속성 이름 아래에 밑줄이 표시된 속성을 키 속성이라고 한다.
  키 속성은 개체 타입에서 각각의 개별 개체를 식별할 수 있는 유일한 값을 가진다.

  #### [단순 속성과 복합 속성]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/318e8414-0a35-4416-ac98-870d4f93f7d3" width="300" height="220"/><br/>

#### 🔳 단일값 속성과 다중값 속성
속성은 속성 값의 개수에 따라 단일값 속성과 다중값 속성으로 구분할 수 있다.
단일값 속성(single-value attribute)은 하나의 값만을 가지는 속성이고, 다중값 속성(multi-value attribute)은 여러 개의 값을 가지는 속성이다.
- 아래 그림에서 학생번호나 성명의 경우 한 사람이 하나의 값밖에 가지지 못하므로 단일값 속성이다.
  그러나 학위의 경우 한 사람이 학사를 취득한 후 석사를 취득하는 등 여러 개의 학위를 가질 수 있으므로 다중값 속성으로 볼 수 있다.
  학생 개체 타입에 취미나 전화번호 속성이 있다면 역시 한 사람이 여러 개의 취미와 전화번호를 가질 수 있으므로 다중값 속성으로 볼 수 있다.

  #### [단일값 속성과 다중값 속성]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/36f9b477-2d61-448c-99b2-45edca1cfa2d" width="300" height="150"/><br/>

#### 🔳 저장 속도와 유도 속성
속성 값이 다른 속성으로부터 유도될 수 있는지에 따라 저장 속성과 유도 속성으로 구분할 수 있다.
저장 속성(stored attribute)은 다른 속성의 영향 없이 단독으로 저장되는 속성이고, 유도 속성(derived attribute)은 다른 저장 속성으로부터 유도된(계산되어진) 속성이다.
- 아래 그림에서 생년월일의 경우 학생 개개인이 가지고 있는 고유한 값으로 저장 속성이며, 나이는 생년월일로부터 계산될 수 있는 값이므로 유도 속성이다.

  #### [저장 속성과 유도 속성]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/d62b8148-2a0c-4234-b263-5b50d76c01d0" width="260" height="150"/><br/>
  <br/>

#### [속성의 ER 다이어그램 표현]
|기호|의미|설명|
|:---|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/73142a52-09f9-4dde-8da6-99888a28d2cc" width="85" height="50"/>|속성|- 일반적인 속성을 나타냄<br/>- 속성의 이름은 타원 중앙에 표시|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/5d563bec-c383-465d-a297-2f95867bd480" width="85" height="50"/>|키(key) 속성|- 속성이 개체를 유일하게 식별할 수 있는 키일 경우 속성<br/>&nbsp;&nbsp;이름에 밑줄을 그음|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/8b40612d-3fd4-4c3e-a408-e04c1fcb4fda" width="85" height="50"/>|약한 개체의 식별자|- 약한 개체는 키를 갖지 못하고 대신 식별자를 가짐<br/>- 식별자의 아래에 점선을 그음|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/b7953ca5-b61d-461a-974d-934b719d4a72" width="85" height="50"/>|다중값 속성|- 취미(수영, 자전거)와 같이 여러 개의 값을 갖는 속성<br/>- 이중 타원으로 표현|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/c716d08d-7a2f-4dda-9f89-e496852ee490" width="85" height="50"/>|유도 속성|- 나이와 같이 출생년도로 유도가 가능한 속성<br/>- 점선 타원으로 표현|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/fbdb5590-0672-44c4-8c6c-ab90d0161d05" width="150" height="120"/>|복합 속성|- 주소(도시, 동, 번지)와 같이 여러 속성으로 구성된 속성<br/>- 큰 타원 아래 작은 타원으로 연결|
<br/>

## 3. 관계와 관계 타입
ER 모델은 개체와 개체 사이의 관계를 표현한다. 관계(relationship)는 개체 사이의 연관성을 나타내는 개념이다.
예를 들어 '고객이 도서를 구입한다'라고 할 때 '고객' 개체 타입과 '도서' 개체 타입은 '구입한다'라는 개념으로 연결된다. 이러한 개체 간의 연관성을 관계라고 한다.
관계 타입(relationship type)은 개체 타입과 개체 타입 간의 연결 가능한 관계를 정의한 것이며, 관계 집합(relationship set)은 관계로 연결된 집합을 의미한다.

#### [관계, 관계 타입, 관계 집합]
<img src="https://github.com/silxbro/cs-study/assets/142463332/d7c67509-cc4e-42da-b58f-64e427ed5653" width="370" height="270"/><br/>

### 관계 타입의 ER 다이어그램 표현
관계 타입은 마름모로 표현하며 관계 타입의 이름은 기호의 중앙에 표기한다.

#### [관계 타입의 ER 다이어그램 표현]
|기호|의미|
|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/ba1250c6-4965-4432-9e2b-e88cde2c121d" width="90" height="40"/>|관계 타입|

아래는 세 가지 관계의 예를 보여준다. 도서와 고객은 '구매'라는 관계가 있으며, 학생과 학과는 '소속'이라는 관계가 있고, 학생과 강좌는 '수강'이라는 관계가 있다.

#### [관계의 예]
<img src="https://github.com/silxbro/cs-study/assets/142463332/6ab1b4fb-a9dd-412d-97d5-a17b31f4fbdf" width="370" height="250"/><br/>

관계 타입은 위 그림의 '수강'의 경우와 같이 속성을 가질 수 있다. 관계 타입의 속성은 이 관계가 어떠한 관계인지에 대한 추가적인 정보를 제공한다.
위의 예에서 수강학기 속성은 학생이 강좌를 언제 수강하는지를 알려준다.

### 관계 타입의 유형
관계 타입은 각 개체 타입이 관계를 맺은 형태 즉, 차수와 관계 대응수에 따라 몇 가지 유형으로 구분할 수 있다.

#### 🔳 차수에 따른 유형
관계 집합에 참가하는 개체 타입의 수를 관계 타입의 차수(degree)라고 한다. 차수는 다음과 같이 n진 관계로 표현한다.

#### [차수에 따른 관계 타입의 유형]
|기호|의미|설명|
|:---|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/79533999-51fc-4eb4-9a3b-88c161a6a7c3" width="200" height="70"/>|1진 관계|한 개의 개체가 자기 자신과 관계를 맺음|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/53c57cfb-4df6-4927-893c-dda63c616c27" width="350" height="50"/>|2진 관계|두 개의 개체가 관계를 맺음|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/24df8c29-91de-4311-ae11-58495c452f58" width="350" height="100"/>|3진 관계|세 개의 개체가 관계를 맺음|

- **1진 관계(recursive relationship)**
  - 한 개의 개체가 자기 자신과 관계를 맺는 경우이다. 예를 들어 학생 개체에서 학생들 간에 멘토링 관계를 맺을 경우 관계를 맺는 멘토와 멘티 모두 학생 개체가 된다.
    #### [1진 관계의 예]
    <img src="https://github.com/silxbro/cs-study/assets/142463332/3a56a5ff-986c-4964-a432-5746990ba186" width="220" height="75"/>
  - 1진 관계는 순환적 관계라고도 한다.

- **2진 관계(binary relationship)**
  - 두 개의 개체가 관계를 맺는 경우이다. 예를 들어 학생 개체 타입과 학과 개체 타입은 '소속'이라는 관계를 맺고 있다.
    #### [2진 관계의 예]
    <img src="https://github.com/silxbro/cs-study/assets/142463332/569524b2-434e-4863-9ee1-8b28ed6b17aa" width="370" height="45"/>

- **3진 관계(ternary relationship)**
  - 세 개의 개체가 관계를 맺는 경우다. 예를 들어 자동차 회사 직원은 부품을 조립하여 하나의 자동차를 만드는 프로젝트를 '수행'하는 관계를 맺고 있다.
    #### [3진 관계의 예]
    <img src="https://github.com/silxbro/cs-study/assets/142463332/73890d2f-e344-41ae-ad58-12b09fcc17db" width="370" height="90"/>

#### 🔳 관계 대응 수에 따른 유형
관계는 개체 간의 상호 작용을 표현한다. 관계 대응 수(cardinality)는 두 개체 타입의 관계에 실제로 참여하는 개별 개체 수를 의미한다.
관계 타입은 관계 대응 수에 따라 다음과 같이 구분할 수 있다.
관계 대응 수는 개체 타입과 관계 타입을 연결하는 실선 위에 표기하며, 하나만 참여할 경우 1, 두 개 이상 다중으로 참여할 경우 N 혹은 M으로 표기한다.

#### [관계 대응 수에 따른 관계 타입의 유형]
|기호|의미|설명|
|:---|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/d0c50c5a-fc1a-41d9-9ad0-f786b1b13e5a" width="230" height="45"/>|일대일 관계|하나의 개체가 하나의 개체에 대응|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/ae12cd57-1770-4bfa-b328-dc8d1613fe6a" width="230" height="45"/>|일대다 관계|하나의 개체가 여러 개채에 대응|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/d49e3fff-326e-4b33-b5ca-1a1a02e508b2" width="230" height="45"/>|다대일 관계|여러 개체가 하나의 개체에 대응|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/12fb1b11-600a-471f-bd71-3a8e4431854f" width="230" height="45"/>|다대다 관계|여러 개체가 여러 개체에 대응|

- **일대일(1:1) 관계**
  - 좌측 개체 타입에 포함된 개체가 우측 개체 타입에 포함된 개체와 일대일로 대응하는 관계이다.
    예를 들어 회사에서 사원이 개인별로 한 대의 컴퓨터만 사용한다면 사원과 컴퓨터는 일대일 관계이다.
    #### [일대일 관계의 예]
    <img src="https://github.com/silxbro/cs-study/assets/142463332/3f688d52-ca5b-43e2-82b7-20082363c414" width="350" height="200"/>

- **일대다(1:N), 다대일(N:1) 관계**
  - 일대다 혹은 다대일 관계는 실제 일상생활에서 가장 많이 볼 수 있는 관계로, 한쪽 객체 타입의 개체 하나가 다른 쪽 개체 타입의 여러 개체와 관계를 맺는 경우이다.
    예를 들어 학과와 학생의 소속 관계를 보면, 하나의 학과에는 여러 명의 학생이 소속되어 있어 일대다 관계로 표현할 수 있다. 이때 N은 0 이상의 자연수를 말한다.
    #### [일대다, 다대일 관계의 예]
    <img src="https://github.com/silxbro/cs-study/assets/142463332/2a0b0ec9-2cc7-4578-8984-3f94d7266678" width="350" height="200"/>

  - 여기서 주의할 사항은 N을 학생 쪽에 표시한다는 점이다. 하나의 학과는 N명의 학생과 관계를 맺지만 N은 학생쪽에 표시한다.
    특별한 이론적인 배경이 있다기보다는 하나의 약속으로 보면 된다.

- **다대다(M:N) 관계**
  - 각 개체 타입의 개체들이 서로 임의의 개수의 개체들과 서로 복합적인 관계를 맺고 있는 경우이다.
    예를 들어 학생과 강좌의 수강 관계를 보면, 한 학생은 여러 강좌를 수강할 수 있고, 한 강좌 역시 여러 학생이 들을 수 있으므로 다대다 관계로 볼 수 있다.
    #### [다대다 관계의 예]
    <img src="https://github.com/silxbro/cs-study/assets/142463332/ce09816d-ba14-4ae8-b4d4-6a09caba3489" width="350" height="200"/>

#### 🔳 관계 대응 수의 최솟값과 최댓값
관계 대응 수 1:1, 1:N, M:N에서 1, M, N은 각 개체가 관계에 참여하는 최댓값을 의미한다. 이 표기법의 문제점은 관계에 참여하는 개체의 최솟값을 표시하지 않는다는 점이다.
이를 보완하기 위하여 ER 다이어그램에서는 대응 수 외에 최솟값과 최댓값을 관계실선 위에(최솟값, 최댓값)으로 표기한다.

#### [관계 대응 수의 최솟값과 최댓값의 표기]
<img src="https://github.com/silxbro/cs-study/assets/142463332/c12ce92a-936a-4f43-bac7-d91664ed6fe4" width="470" height="50"/><br/>
- 앞의 관계 대응 수 N과 달리 (최솟값, 최댓값)은 해당 개체 쪽에 표시한다.

위 그림에서 min은 관계에 참여하는 개체의 수가 적어도 min 값 이상은 되어야 한다는 뜻이며, max는 관계에 참여하는 개체의 수가 max 값을 넘을 수 없다는 뜻이다.
예를 들어 min 값이 0일 경우는 관계에 참여하는 개체의 수가 0 이상이므로 반드시 참여할 필요가 없다는 뜻이고, max 값이 10일 경우는 10개의 개체까지 참여할 수 있다는 뜻이다.
max 값을 '*'로 표시하면 임의의 수만큼 참여할 수 있다는 뜻이다.

아래 표는 1:1, 1:N, M:N 관계를 (min, max)를 사용해 표기한 것이다.
#### [각 관계 대응 수의 최솟값과 최댓값]
|관계|(min1, max1)|(min2, max2)|
|:---|:---|:---|
|1:1|(0,1)|(0,1)|
|1:N|(0,*)|(0,1)|
|M:N|(0,*)|(0,*)|

학과와 학생의 관계를 예로 들어 관계 대응 수의 (최솟값, 최댓값)을 표기하는 연습을 해보자. 학과와 학생은 1:N의 관계를 맺고 있다.
즉 하나의 학과에 여러 명의 학생이 '소속'되어있다. 관계 대응 수 1은 학과 쪽에 표기하고 N은 학생 쪽에 표기한다.

(최솟값, 최댓값)으로 관계 대응수를 표기할 때는 각 개체의 관점에서 관계에 참여하는 횟수를 적는다.
먼저 학과의 관점에서 '소속' 관계는 최소 0번(학과에 학생이 없는 경우)부터 최대 *번(학과에 학생이 여러 명인 경우)으로 표기할 수 있다. 따라서 (0,\*)를 학과 개체 쪽에 표기한다.
다시 한번 강조하지만 (최솟값, 최댓값)은 관계 대응 수와 달리 해당 개체 쪽에 표기한다. 아래 그림을 보면 학과는 최소 0명, 최대 N명의 학생이 소속된다.
관계 대응수를 나타내는 N은 학생 개체 쪽에 표기하지만 (0, *)는 학과 개체 쪽에 표기함을 명심하기 바란다.

#### [(최솟값, 최댓값) 표기의 예]
<img src="https://github.com/silxbro/cs-study/assets/142463332/0a33ecc3-25a6-4171-abae-cefd76adf848" width="470" height="50"/><br/>

### ISA 관계
일부 개체 집합들이 맺고 있는 관계 중에는 상하 관계를 보이는 관계가 있다. 상위 개체 타입의 특성에 따라 하위 개체 타입이 결정되는 형태로 ISA(is-a) 관계라고 한다.
이때 상위 개체 타입을 슈퍼클래스, 하위 개체 타입을 서브클래스라고 한다.
ISA 관계는 역삼각형으로 표현하며 역삼각형 위에는 슈퍼클래스, 아래에는 각각의 서브클래스를 관계 실선으로 연결한다.

#### [ISA 관계]
|기호|의미|
|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/c5b5aa2f-2f0c-40d5-9353-74986c0a7a87" width="90" height="40"/>|개체 간 상하관계|

- 아래는 학생을 신분에 따라 휴학생, 재학생, 졸업생으로 나누고 ISA 관계로 표시한 예이다.
  상위 개체인 학생 개체 타입은 슈퍼클래스로, 학생이면 기본으로 가지는 공통 속성을 가진다.
  학생은 재학, 졸업, 휴학 상태에 따라 신분이 바뀌는데, 이때는 학생 개체가 가지는 공통 속성 외에 자신만이 보유한 고유 속성을 가지게 된다.
  이에 따라 학생을 휴학생, 재학생, 졸업생의 서브클래스로 나누고 각 개체 타입에는 자신만이 가지는 고유 속성을 부여한다.
  재학생의 경우 슈퍼클래스의 속성인 (학생번호, 이름, 성별)을 상속받고, (등록학기, 지도교수) 속성을 포함하여 모두 다섯 개의 속성을 가지게 된다.

  #### [ISA 관계의 예]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/d60e4fa7-4d1a-4f1c-ac71-30b31b6735f0" width="400" height="270"/><br/>
  위와 같이 학생을 ISA 관계로 표현하면 휴학생, 재학생, 졸업생을 모두 하나의 개체로 표현하거나 완전히 다른 세 개의 개체로 표현하는 것보다 모델링이 훨씬 정교해진다.

### 참여 제약 조건
관계의 특성 중 하나로 참여 제약 조건이 있다. 참여 제약 조건은 개체 집합 내 모든 개체가 관계에 참여하는지 유무에 따라 전체 참여와 부분 참여로 구분할 수 있다.
전체 참여는 개체 집합의 모든 개체가 관계에 참여하고, 부분 참여는 일부만 참여한다.
전체 참여는 개체 타입과 관계를 두 줄 실선으로 표현하고, 부분 참여는 일반적인 관계 표현과 동일하게 단일 실선으로 표현한다.
전체 참여를 (최솟값, 최댓값)으로 표현하면 최솟값이 1 이상으로 모두 참여한다는 뜻이고, 부분 참여는 최솟값이 0 이상이다.

#### [관계의 참여 제약 조건]
|기호|의미|
|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/7ad52b23-2085-4d3d-9bc7-e123fa4b552e" width="220" height="40"/>|전체 참여|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/cd1c7f17-51bc-4a4b-928c-fc9b93594396" width="220" height="40"/>|부분 참여|

- 아래는 학생 개체 타입과 강좌 개체 타입의 수강 관계를 부분 참여와 전체 참여로 설명한 예이다.
  학생의 경우 교환 학생이나 휴학 등의 이유로 수강을 하지 않는 학생도 있으므로 수강 관계와 부분 참여를 맺는다.
  그러나 강좌의 경우 폐강되는 과목 없이 수강신청을 하는 학생이 반드시 있다고 가정하므로 수강 관계와 전체 참여를 맺는다.
  #### [부분 참여와 전체 참여의 예]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/f8fccf3a-3c51-41a7-a198-370810fc6ed0" width="400" height="50"/>

### 역할
개체 타입 간의 관계를 표현할 때 각 개체들은 고유한 역할(role)을 담당한다.
- 예를 들어 학생 개체 타입과 교수 개체 타입이 지도 관계를 맺을 때, 교수 개체 타입은 '지도한다', 학생 개체 타입은 '지도받는다'라는 역할을 한다.
  역할은 관계선 위에 역할을 명시하는 형태로 표현한다.
  #### [역할의 예]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/cbac701b-703f-4c8c-a127-1757551361d4" width="450" height="45"/>

일반적으로 역할은 관계만으로 알 수 있으면 생략한다. 그러나 관계에서 역할이 명확하지 않을 경우에는 반드시 표기해야 한다.

### 순환적 관계
순환적 관계(recursive relationship)는 하나의 개체 타입이 동일한 개체 타입(자기 자신)과 순환적으로 관계를 가지는 형태를 말한다.
순환적 관계는 관계선을 개체 타입과 관계 타입 양쪽에 두개를 그린다.
- 아래의 (a)는 학생들 간에 멘토링 관계를 맺어 멘토와 멘티 모두 학생 개체인 경우이다.
  또 (b)에서 사원 개체는 자기보다 직위가 낮은 사원에게는 업무 지시를 내리고, 자기보다 직위가 높은 사원에게는 업무 지시를 받아 순환적 관계를 가진다.
  #### [순환적 관계의 예]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/752c1fa2-3f97-4beb-8960-81244e93bd85" width="330" height="160"/>
<br/>

## 4. 약한 개체 타입과 식별자
직원 개체 타입처럼 독립적으로 식별할 수 있는 개체를 가지고 있는 개체 타입을 개체 혹은 강한 개체(strong entity) 타입이라고 한다.
이와 반대로 가족 개체 타입처럼 상위 개체 타입이 결정되지 않으면 개별 개체를 식별할 수 없는 종속된 개체 타입을 약한 개체(weak entity) 타입이라고 한다.

강한 개체 타입은 직원 개체 타입의 '직원번호'와 같이 각 개체를 식별할 수 있는 기본키를 가진다.
약한 개체 타입은 자신의 기본키만으로 식별이 어려우므로 상위의 강한 개체 타입의 기본키를 상속받아 사용한다.
가족 개체 타입의 '이름'과 같이 독립적인 키로는 존재할 수 없지만 상위 개체 타입의 키와 결합하여 약한 개체 타입의 개별 개체를 고유하게 식별하는 속성을 식별자(discriminator)
혹은 부분키(partial key)라고 한다. 아래 표는 식별자와 관련된 ER 다이어그램이다.

#### [약한 개체 타입과 식별자]
|기호|의미|설명|
|:---|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/b391a9f9-6edd-40ec-89f4-9aa624b1a377" width="90" height="40"/>|약한 개체 타입|- 강한 개체 타입이 있어야 존재할 수 있음<br/>- 이중 직사각형으로 표현|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/71a589c1-5afb-4e93-bd82-eb8e112ab679" width="100" height="45"/>|식별 관계 타입|- 강한 개체 타입과 약한 개체 타입의 관계를 나타냄<br/>- 강한 개체 타입의 기본키를 상속받아 사용함<br/>- 이중 마름모꼴로 표현|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/8a33323e-9d0d-4bcf-8bb6-83254da74d39" width="70" height="40"/>|키|- 강한 개체 타입의 키 속성|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/446fa1f7-d80a-4098-b597-84d1e3fbade2" width="70" height="40"/>|식별자|- 약한 개체 타입에서 개별 개체를 구분하는 속성<br/>- 키라고 하지 않고 식별자라고 부름|

- 아래를 보면 회사에서 직원 개체 타입과 가족 개체 타입이 '부양' 관계를 맺고 있다. 지원 개체 타입은 자기 자신만으로 존재 가능하고, 각각의 개체를 '직원번호'로 구분할 수 있다.
  그러나 가족 개체 타입의 경우 직원번호 없이는 누구의 가족인지 알 수 없다.
  또 '이름' 속성의 경우 직원 자녀 간에 같은 이름을 가진 사람이 있을 수 있으므로 직원번호와 함께 사용해야 한다.
  #### [약한 개체 타입과 식별자의 예]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/28444558-841a-420c-96f2-6601c4b59ce1" width="200" height="320"/>
<br/>

## 5. IE 표기법
지금까지 피터 첸(Peter Chen)이 제안한 ER 모델의 기본적인 표기법에 대해서 살펴보았다. ER 모델 표기법은 지금까지 살펴본 표기법 외에도 여러 표기법이 존재한다.
대표적으로 IE 표기법(Information Engineering Notation)과 바커 표기법(Barker Notation)이 있다.
여기에서는 IE 표기법에 대해 자세히 알아보고 4절에서 ERwin 프로그램을 이용하여 실습을 진행해본다.

IE 표기법은 관계 대응 수를 새발 모양의 기호로 표현하여 새발 표기법(crow-feet)이라고도 부른다.
아래는 ER 모델(피터 첸 표기법)과 IE 표기법의 개체 표현법을 비교한 것이다.

#### [피터 첸 표기법과 IE 표기법]
<img src="https://github.com/silxbro/cs-study/assets/142463332/04ddf237-0984-4aa4-926f-5f0013f709d5" width="400" height="160"/>

IE 표기법에서 개체 타입과 속성은 직사각형으로 표현한다.
관계는 마름모꼴 대신 개체 타입인 직사각형을 관계 실선으로 연결하고 아래와 같은 모양의 기호를 이용하여 관계 대응수 등을 표현한다.
관계 실선에서 개체 쪽의 기호는 반대쪽 개체의 최대참여(1 혹은 N)를 나타내며, '○', '|' 기호는 최소 참여(참여 제약 조건)로 선택참여(○) 혹은 필수참여(|)를 나타낸다.

#### [IE 표기법-관계와 관계 대응 수]
|기호|의미|
|:---|:---|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/c03cdec8-54d9-4c5d-9580-38aeab85a723" width="70" height="2"/>|- 비식별자 관계(non-identifying relationship) : 강한 개체 타입<br/>- 부모 개체의 키가 일반 속성으로 포함되는 관계|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/afe2af23-9107-4d6b-8572-0b3a3ee069ad" width="70" height="1"/>|- 식별자 관계(identifying relationship) : 약한 개체 타입<br/>- 부모 개체의 키가 주식별자로 포함되는 관계|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/367da126-7e28-4bc9-b90a-4aba2e7b65a5" width="70" height="15"/>|- 일대다(1:N)의 관계 : N쪽에 새발을 표시|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/68e054ef-6635-4201-92bb-2d70a1219071" width="70" height="12"/>|- 0(선택 참여), 최소 참여가 0일 경우|
|<img src="https://github.com/silxbro/cs-study/assets/142463332/85193223-f30b-4996-850d-cc222d4b084d" width="70" height="12"/>|- 1(필수 참여), 최소 참여가 1일 경우|

- 아래의 (b)에서 부서-직원 관계는 강한 개체 간의 관계이므로 비식별자(non-identifying) 관계로 표현한다.
  직원 개체는 부서 개체 쪽에 표현된 '|' 기호를 통해 '직원은 부서에 반드시 (필수) 소속되어야 한다'라는 것을 알 수 있다.
  또한 부서 개체는 직원 개체 쪽에 표현된 '<img src="https://github.com/silxbro/cs-study/assets/142463332/7248a376-de88-48c1-88ad-348a68069785" width="22" height="15"/>'
  기호로 '부서는 직원을 0명 이상 포함한다'라는 것을 알 수 있다. 이는 부서가 없는 직원은 없으며, 직원이 없는 부서는 있을 수 있다는 의미이다.
  다시 한 번 강조하지만 관계 대응 수는 개체의 반대편에 있는 최대에 관한 기호를 읽으면 된다.
  #### [IE 표기법의 예(비식별자 관계)]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/8a4c3dbe-0c3a-424b-8db3-7ee65bad6eb8" width="500" height="300"/>

- 아래는 [약한 개체 타입과 식별자의 예] 그림의 ER 표기법으로 그린 약한 개체 타입과 식별자의 예를 IE 표기법으로 그린 것이다.
  부양 관계는 약한 개체(가족)를 포함하므로 식별자(identifying) 관계로 표현한다. 관계를 나타내는 선이 앞의 비식별자 관계에서는 점선이지만 식별자 관계에서는 실선임을 주의한다.
  #### [IE 표기법의 예(식별자 관계)]
  <img src="https://github.com/silxbro/cs-study/assets/142463332/963404ca-8df9-4d8b-91bc-2ad7c26d1ad6" width="280" height="90"/>